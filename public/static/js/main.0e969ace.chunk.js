(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[0],{56:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(27),s=c.n(n),i=c(18),r=c(5),o=c.n(r),l=c(10),j=c(7),b=c(22);c(47),c(57);b.a.initializeApp({apiKey:"AIzaSyAgf3Czyypj9-DK0jigESfqQ-dhcREUv8Y",authDomain:"ecommerce-app-bdd67.firebaseapp.com",projectId:"ecommerce-app-bdd67",storageBucket:"ecommerce-app-bdd67.appspot.com",messagingSenderId:"250345770288",appId:"1:250345770288:web:0b79c7ae68d940cf8cccf5"});var u=b.a.firestore(),d=new b.a.auth.GoogleAuthProvider,m=new b.a.auth.FacebookAuthProvider,h="[Auth] Login",O="[Auth] Logout",x=function(e,t){return{type:h,payload:{uid:e,displayName:t}}},f=function(){return{type:O}},p=c(1),v=function(){var e=Object(i.b)();return Object(p.jsxs)("div",{className:"box-container",children:[Object(p.jsx)("h2",{className:"login-tittle",children:"Login"}),Object(p.jsx)("form",{className:"animate__animated animate__fadeIn animate__faster",children:Object(p.jsxs)("div",{className:"auth__social-networks",children:[Object(p.jsx)("p",{children:"Login with social networks"}),Object(p.jsxs)("div",{className:"google-btn",onClick:function(){e((function(e){b.a.auth().signInWithPopup(d).then((function(t){var c=t.user;e(x(c.uid,c.displayName),window.location.href="/user")}))}))},children:[Object(p.jsx)("div",{className:"google-icon-wrapper",children:Object(p.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})}),Object(p.jsx)("p",{className:"btn-text",children:Object(p.jsx)("b",{children:"Sign in with Google"})})]}),Object(p.jsxs)("div",{className:"facebook-btn",onClick:function(){e((function(e){b.a.auth().signInWithPopup(m).then((function(t){var c=t.user;e(x(c.uid,c.displayName),window.location.href="/user")}))}))},children:[Object(p.jsx)("div",{className:"facebook-icon-wrapper",children:Object(p.jsx)("img",{className:"facebook-icon",src:"https://img-premium.flaticon.com/png/512/174/174848.png?token=exp=1623048364~hmac=8de42b292833c3892bd5a2a38fd11b02",alt:"facebook button"})}),Object(p.jsx)("p",{className:"btn-text",children:Object(p.jsx)("b",{children:"Sign in with Facebook"})})]})]})})]})},g=c(16),N=c(4),w=c(8),k=c(29),C=c.n(k),y=function(e){var t=e.id,c=e.titulo,a=e.img,n=e.autor,s=e.descripCorta,i=e.calificacion;return Object(p.jsx)("div",{className:"card-deck",id:t,children:Object(p.jsxs)("div",{onClick:function(){window.location.href="/book/".concat(t)},className:"card",style:{maxWidth:210},children:[Object(p.jsx)("img",{src:a,className:"card-img",alt:"img"}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h1",{className:"card-title",children:[" ",c," "]}),Object(p.jsxs)("p",{className:"autor",children:[" Autor: Autor: ",n," "]}),Object(p.jsxs)("p",{className:"decripcion",children:[" ",s," "]})]}),Object(p.jsx)("div",{className:"card-footer",children:Object(p.jsxs)("small",{children:["Calificaci\xf3n:",Object(p.jsx)(C.a,{count:i,onChange:function(e){console.log(e)},size:18,color:"#7B113A",edit:!1})]})})]})})},_=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/libros/listalibros",e.next=3,fetch("/api/libros/listalibros");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,s=a.map((function(e){return{id:e.id,titulo:e.titulo,img:e.img,autor:e.autor,descripCorta:e.descripCorta,descripLarga:e.descripLarga,palabrasClaves:e.palabrasClaves,categoria:e.categoria,calificacion:e.calificacion}})),n(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Cat\xe1logo"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"card-columns animate__animated animate__zoomIn",children:c.map((function(e){return Object(p.jsx)(y,Object(w.a)({},e),e.id)}))})]})},S=function(e){var t=e.history,c=Object(N.h)().id,n=Object(a.useState)([]),s=Object(j.a)(n,2),i=s[0],r=s[1];Object(a.useEffect)((function(){b(c)}),[c]);var b=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/api/libros/listalibros/libro/".concat(t),e.next=3,fetch(c);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,s=n.data,r(s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Object(N.h)();console.log(d),function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.collection("/books/".concat(t,"/comentarios")).get();case 2:c=e.sent,a=[],c.forEach((function(e){a.push({id:e.id,usuario:e.data().usuario,fechaComentario:e.data().fechaComentario,descripComentario:e.data().descripComentario,calificacionUsuario:e.data().calificacionUsuario})})),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()();var m=i.titulo,h=i.img,O=i.autor,x=i.descripCorta,f=i.descripLarga,v=i.palabrasClaves,g=i.categoria,w=i.calificacion;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:Object(p.jsx)("i",{className:"fas fa-chevron-circle-left"})}),Object(p.jsx)("div",{className:"card mb-3",style:{maxwidth:520,maxheight:300},children:Object(p.jsxs)("div",{className:"row g-0",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("img",{className:"img-unlibro",src:h,alt:"img"})}),Object(p.jsx)("div",{className:"col-md-8",children:Object(p.jsxs)("div",{className:"card-title-libro",children:[Object(p.jsxs)("h1",{className:"card-text-unlibro",children:[" ",m]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{className:"card-text",children:["Autor: ",O," "]}),Object(p.jsxs)("div",{className:"card-text",children:["Calificaci\xf3n:",Object(p.jsx)(C.a,{count:w,onChange:function(e){console.log(e)},size:18,color:"#7B113A",edit:!1})]}),Object(p.jsxs)("p",{className:"card-text",children:["Sinopsis: ",x," "]}),Object(p.jsxs)("p",{className:"card-text",children:[" ",f," "]}),Object(p.jsxs)("p",{className:"card-text",children:["categoria: ",g," "]}),Object(p.jsxs)("li",{className:"card-text",children:["Palabras Claves:",v]})]})})]})})]})})},A=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Calificaciones"}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{children:Object(p.jsx)("li",{children:"Se muestran los libros con mayor calificaci\xf3n:"})}),Object(p.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){window.location.href="/calificacionDesc"},children:Object(p.jsx)("i",{className:"fas fa-sort-amount-up-alt"})}),Object(p.jsx)("hr",{}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{children:Object(p.jsx)("li",{children:"Se muestran los libros con menor calificaci\xf3n:"})}),Object(p.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){window.location.href="/calificacionAsc"},children:Object(p.jsx)("i",{className:"fas fa-sort-amount-down-alt"})}),Object(p.jsx)("hr",{})]})},E=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/libros/listalibros",e.next=3,fetch("/api/libros/listalibros");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,s=a.map((function(e){return{id:e.id,titulo:e.titulo,img:e.img,autor:e.autor,descripCorta:e.descripCorta,descripLarga:e.descripLarga,palabrasClaves:e.palabrasClaves,categoria:e.categoria,calificacion:e.calificacion}})),n(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=c.slice(0,4);return Object(p.jsx)("div",{className:"card-columns animate__animated animate__zoomIn",children:i.map((function(e){return Object(p.jsx)(y,Object(w.a)({},e),e.id)}))})},L=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("footer",{className:"social-footer",children:[Object(p.jsx)("div",{className:"social-footer-left",children:Object(p.jsx)("i",{className:"fas fa-book-open"})}),Object(p.jsx)("div",{className:"social-footer-icons",children:Object(p.jsxs)("ul",{className:"menu simple",children:[Object(p.jsx)("i",{className:"fab fa-facebook"}),Object(p.jsx)("i",{className:"fab fa-instagram"}),Object(p.jsx)("i",{className:"fab fa-pinterest"}),Object(p.jsx)("i",{className:"fab fa-twitter-square"})]})})]})})},I=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/carrusel/listaimg",e.next=3,fetch("/api/carrusel/listaimg");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,s=a.map((function(e){return{id:e.id,img:e.img}})),n(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"simpleSlider",id:"slider",children:Object(p.jsx)("figure",{children:c.map((function(e){return Object(p.jsx)("img",{src:e.img,alt:"img"},e.id)}))})})})},F=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{children:[" ",Object(p.jsx)(I,{})," "]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Cat\xe1logo"}),Object(p.jsx)("hr",{}),Object(p.jsx)(E,{}),Object(p.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){window.location.href="/catalogo"},children:"Ver m\xe1s..."}),Object(p.jsx)("hr",{}),Object(p.jsx)("h1",{children:"Encuentranos:"}),Object(p.jsx)("hr",{}),Object(p.jsx)(L,{})]})]})},B=c(34),z=c.n(B),D=c(28),P=function(e){var t=e.history,c=Object(N.g)(),n=z.a.parse(c.search).q,s=void 0===n?"":n,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),c=Object(j.a)(t,2),n=c[0],s=c[1];return[n,function(e){var t=e.target;s(Object(w.a)(Object(w.a)({},n),{},Object(D.a)({},t.name,t.value)))},function(){s(e)}]}({searchText:s}),r=Object(j.a)(i,2),b=r[0],u=r[1],d=b.searchText,m=Object(a.useState)([]),h=Object(j.a)(m,2),O=h[0],x=h[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="api/libros/libros/palabrasClaves/".concat(t),e.next=3,fetch(c);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,s=n.data,console.log(s),x(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Buscar"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{children:Object(p.jsxs)("form",{className:"d-flex ",onSubmit:function(e){e.preventDefault(),t.push("?q=".concat(d))},children:[Object(p.jsx)("input",{type:"text",placeholder:"Encuentra tu Libro...",className:"form-control",name:"searchText",autoComplete:"off",value:d,onChange:u}),Object(p.jsx)("button",{type:"submit",className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){return f(d)},children:Object(p.jsx)("i",{className:"fas fa-search"})})]})}),Object(p.jsxs)("div",{className:"results",children:[Object(p.jsx)("h4",{children:" Results "}),Object(p.jsx)("hr",{}),""===s&&Object(p.jsx)("div",{className:"alert alert-info",children:"Encuentra tu libro.."}),O.map((function(e){return Object(p.jsx)(y,Object(w.a)({},e),e.id)}))]})]})]})},T=function(){return Object(p.jsxs)("nav",{id:"navar",className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(p.jsx)(g.b,{className:"navbar-brand",to:"/",children:" Home"}),Object(p.jsx)("div",{className:"navbar-collapse",children:Object(p.jsxs)("div",{className:"navbar-nav",children:[Object(p.jsx)(g.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/catalogo",children:" Cat\xe1logo"}),Object(p.jsx)(g.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/calificaciones",children:"Calificaciones"}),Object(p.jsx)(g.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/search",children:"Buscar"})]})}),Object(p.jsx)("form",{className:"d-flex",children:Object(p.jsx)(g.b,{type:"button",className:"navbar-brand",to:"/login",children:" login"})})]})},q=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).name;return Object(p.jsx)("div",{children:Object(p.jsxs)("aside",{className:"sidebar",children:[Object(p.jsxs)("div",{className:"sidebar-navbar",children:[Object(p.jsxs)("h3",{className:"mt-5",children:[Object(p.jsx)("i",{className:"far fa-user"}),Object(p.jsxs)("span",{children:[" ",t]})]}),Object(p.jsxs)(g.b,{className:"btn-logout",onClick:function(){e(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().signOut();case 2:t(f());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},type:"button",to:"/",children:[" ",Object(p.jsx)("i",{className:"fas fa-sign-out-alt fa-2x mt-5"})]})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"container-main",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("i",{className:"fas fa-heart fa-2x mt-5"}),Object(p.jsx)("p",{className:"mt-5",children:"Favoritos"})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("i",{className:"fas fa-plus-circle fa-2x mt-5"}),Object(p.jsx)("p",{className:"mt-5",children:"Agregar a la lista"})]}),Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("i",{className:"fas fa-comments fa-2x mt-5"}),Object(p.jsx)("p",{className:"mt-5",children:"Comentar"})]})]})})]})})},G=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"nothing_main-content",children:[Object(p.jsxs)("p",{children:["Crea tu propia lista de libro favoritos.",Object(p.jsx)("br",{}),"o deja tus comentarios..."]}),Object(p.jsx)("i",{className:"fas fa-book-reader fa-4x mt-5"})]})})},U=function(){return Object(p.jsxs)("div",{className:"user_main-content animate__animated animate__fadeIn animate__faster",children:[Object(p.jsx)(q,{}),Object(p.jsx)("main",{children:Object(p.jsx)(G,{})})]})},R=function(e){var t=e.history,c=Object(a.useState)([]),n=Object(j.a)(c,2),s=n[0],i=n[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/libros/librosdesc/calificaciones",e.next=3,fetch("/api/libros/librosdesc/calificaciones");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,i(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:Object(p.jsx)("i",{className:"fas fa-chevron-circle-left"})}),Object(p.jsx)("h1",{children:"Libros con mayor puntaje:"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{children:s.map((function(e){return Object(p.jsx)(y,Object(w.a)({},e),e.id)}))})]})},W=function(e){var t=e.history,c=Object(a.useState)([]),n=Object(j.a)(c,2),s=n[0],i=n[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/libros/librosasc/calificaciones",e.next=3,fetch("/api/libros/librosasc/calificaciones");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,i(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:Object(p.jsx)("i",{className:"fas fa-chevron-circle-left"})}),Object(p.jsx)("h1",{children:"Libros con menor puntaje:"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{children:s.map((function(e){return Object(p.jsx)(y,Object(w.a)({},e),e.id)}))})]})},J=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T,{}),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)(N.d,{children:[Object(p.jsx)(N.b,{exact:!0,path:"/",component:F}),Object(p.jsx)(N.b,{path:"/catalogo",component:_}),Object(p.jsx)(N.b,{exact:!0,path:"/calificaciones",component:A}),Object(p.jsx)(N.b,{exact:!0,path:"/calificacionDesc",component:R}),Object(p.jsx)(N.b,{exact:!0,path:"/calificacionAsc",component:W}),Object(p.jsx)(N.b,{exact:!0,path:"/search",component:P}),Object(p.jsx)(N.b,{path:"/book/:id",component:S}),Object(p.jsx)(N.b,{exact:!0,path:"/user",component:U}),Object(p.jsx)(N.a,{to:"/"})]})})]})},K=c(35),V=function(e){var t=e.isAuthenticated,c=e.component,a=Object(K.a)(e,["isAuthenticated","component"]);return console.log(t),Object(p.jsx)(N.b,Object(w.a)(Object(w.a)({},a),{},{component:function(e){return t?Object(p.jsx)(c,Object(w.a)({},e)):Object(p.jsx)(N.a,{to:"/login"})}}))},X=function(){var e=Object(i.b)(),t=Object(a.useState)(!0),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),u=Object(j.a)(r,2),d=u[0],m=u[1];return Object(a.useEffect)((function(){b.a.auth().onAuthStateChanged(function(){var t=Object(l.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===c||void 0===c?void 0:c.uid)?(e(x(c.uid,c.displayName)),m(!0)):m(!1),s(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,s,m]),n?Object(p.jsx)("div",{className:"text-center",children:Object(p.jsx)("div",{className:"spinner-border  m-5",role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(p.jsx)(g.a,{children:Object(p.jsx)("div",{children:Object(p.jsxs)(N.d,{children:[Object(p.jsx)(N.b,{exact:!0,path:"/login",component:v}),Object(p.jsx)(V,{exact:!0,isAuthenticated:d,path:"/user",component:U}),Object(p.jsx)(N.b,{path:"/",component:J})]})})})},H=c(24),M=c(36),Q="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,Y=Object(H.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{uid:t.payload.uid,name:t.payload.displayName};case O:return{};default:return e}}}),Z=Object(H.d)(Y,Q(Object(H.a)(M.a))),$=function(){return Object(p.jsx)(i.a,{store:Z,children:Object(p.jsx)(X,{})})};s.a.render(Object(p.jsx)($,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.0e969ace.chunk.js.map