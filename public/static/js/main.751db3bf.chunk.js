(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[0],{56:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c(27),n=c.n(s),r=c(18),i=c(6),o=c.n(i),j=c(11),l=c(8),b=c(22);c(47),c(57);b.a.initializeApp({apiKey:"AIzaSyAgf3Czyypj9-DK0jigESfqQ-dhcREUv8Y",authDomain:"ecommerce-app-bdd67.firebaseapp.com",projectId:"ecommerce-app-bdd67",storageBucket:"ecommerce-app-bdd67.appspot.com",messagingSenderId:"250345770288",appId:"1:250345770288:web:0b79c7ae68d940cf8cccf5"});b.a.firestore();var u=new b.a.auth.GoogleAuthProvider,d=new b.a.auth.FacebookAuthProvider,m="[Auth] Login",h="[Auth] Logout",p=c(4),O=c(1),x=function(e,t){return{type:m,payload:{uid:e,displayName:t}}},f=function(){return{type:h}},v=function(){var e=Object(r.b)();return Object(O.jsxs)("div",{className:"box-container",children:[Object(O.jsx)("h2",{className:"login-tittle",children:"Login"}),Object(O.jsx)("form",{className:"animate__animated animate__fadeIn animate__faster",children:Object(O.jsxs)("div",{className:"auth__social-networks",children:[Object(O.jsx)("p",{children:"Login with social networks"}),Object(O.jsxs)("div",{className:"google-btn",onClick:function(){e((function(e){b.a.auth().signInWithRedirect(u).then((function(t){var c=t.user;e(x(c.uid,c.displayName),Object(O.jsx)(p.a,{to:"/user"}))}))}))},children:[Object(O.jsx)("div",{className:"google-icon-wrapper",children:Object(O.jsx)("i",{className:"fab fa-google"})}),Object(O.jsx)("p",{className:"btn-text",children:Object(O.jsx)("b",{children:"Sign in with Google"})})]}),Object(O.jsxs)("div",{className:"facebook-btn",onClick:function(){e((function(e){b.a.auth().signInWithPopup(d).then((function(t){var c=t.user;e(x(c.uid,c.displayName))}))}))},children:[Object(O.jsx)("div",{className:"facebook-icon-wrapper",children:Object(O.jsx)("i",{className:"fab fa-facebook-square"})}),Object(O.jsx)("p",{className:"btn-text",children:Object(O.jsx)("b",{children:"Sign in with Facebook"})})]})]})})]})},g=c(10),N=c(7),k=c(29),w=c.n(k),y=function(e){var t=e.id,c=e.titulo,a=e.img,s=e.autor,n=e.descripCorta,r=e.calificacion;return Object(O.jsx)("div",{className:"card-deck",id:t,children:Object(O.jsxs)("div",{className:"card",style:{maxWidth:210},children:[Object(O.jsx)("img",{src:a,className:"card-img",alt:"img"}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("h1",{className:"card-title",children:[" ",c," "]}),Object(O.jsxs)("p",{className:"autor",children:[" Autor: ",s," "]}),Object(O.jsxs)("p",{className:"decripcion",children:[" ",n," "]})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{children:Object(O.jsx)(g.b,{className:"unlibro",to:"/book/".concat(t),children:"M\xe1s..."})}),Object(O.jsx)("div",{className:"card-footer",children:Object(O.jsx)(w.a,{count:r,onChange:function(e){console.log(e)},size:19,color:"#7B113A",edit:!1})})]})})},C=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){n()}),[]);var n=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://commerce-app.herokuapp.com/api/libros/listalibros",e.next=3,fetch("https://commerce-app.herokuapp.com/api/libros/listalibros");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,n=a.map((function(e){return{id:e.id,titulo:e.titulo,img:e.img,autor:e.autor,descripCorta:e.descripCorta,descripLarga:e.descripLarga,palabrasClaves:e.palabrasClaves,categoria:e.categoria,calificacion:e.calificacion}})),s(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Cat\xe1logo"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"card-columns animate__animated animate__zoomIn",children:c.map((function(e){return Object(O.jsx)(y,Object(N.a)({},e),e.id)}))})]})},_=function(e){var t=e.history,c=Object(p.h)().id,s=Object(a.useState)([]),n=Object(l.a)(s,2),r=n[0],i=n[1];Object(a.useEffect)((function(){b(c)}),[c]);var b=function(){var e=Object(j.a)(o.a.mark((function e(t){var c,a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://commerce-app.herokuapp.com/api/libros/listalibros/libro/".concat(t),e.next=3,fetch(c);case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,n=s.data,i(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=r.titulo,d=r.img,m=r.autor,h=r.descripCorta,x=r.descripLarga,f=r.palabrasClaves,v=r.categoria,g=r.calificacion;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:Object(O.jsx)("i",{className:"fas fa-chevron-circle-left"})}),Object(O.jsx)("div",{className:"card mb-3",style:{maxwidth:520,maxheight:300},children:Object(O.jsxs)("div",{className:"row g-0",children:[Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("img",{className:"img-unlibro",src:d,alt:"img"})}),Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsxs)("div",{className:"card-title-libro",children:[Object(O.jsxs)("h1",{className:"card-text-unlibro",children:[" ",u]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("p",{className:"card-text",children:["Autor: ",m," "]}),Object(O.jsxs)("div",{className:"card-text",children:["Calificaci\xf3n:",Object(O.jsx)(w.a,{count:g,onChange:function(e){console.log(e)},size:18,color:"#7B113A",edit:!1})]}),Object(O.jsxs)("p",{className:"card-text",children:["Sinopsis: ",h," "]}),Object(O.jsxs)("p",{className:"card-text",children:[" ",x," "]}),Object(O.jsxs)("p",{className:"card-text",children:["categoria: ",v," "]}),Object(O.jsxs)("li",{className:"card-text",children:["Palabras Claves:",f]})]})})]})})]})})},S=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Calificaciones"}),Object(O.jsx)("hr",{}),Object(O.jsx)("p",{children:Object(O.jsx)("li",{children:"Se muestran los libros con mayor calificaci\xf3n:"})}),Object(O.jsx)(g.b,{className:"btn btn-light",to:"/calificacionDesc",children:Object(O.jsx)("i",{className:"fas fa-sort-amount-up-alt"})}),Object(O.jsx)("hr",{}),Object(O.jsx)("hr",{}),Object(O.jsx)("p",{children:Object(O.jsx)("li",{children:"Se muestran los libros con menor calificaci\xf3n:"})}),Object(O.jsx)(g.b,{className:"btn btn-light",to:"/calificacionAsc",children:Object(O.jsx)("i",{className:"fas fa-sort-amount-down-alt"})}),Object(O.jsx)("hr",{})]})},A=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){n()}),[]);var n=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://commerce-app.herokuapp.com/api/libros/listalibros",e.next=3,fetch("https://commerce-app.herokuapp.com/api/libros/listalibros");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,n=a.map((function(e){return{id:e.id,titulo:e.titulo,img:e.img,autor:e.autor,descripCorta:e.descripCorta,descripLarga:e.descripLarga,palabrasClaves:e.palabrasClaves,categoria:e.categoria,calificacion:e.calificacion}})),s(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=c.slice(0,4);return Object(O.jsx)("div",{className:"card-columns animate__animated animate__zoomIn",children:r.map((function(e){return Object(O.jsx)(y,Object(N.a)({},e),e.id)}))})},E=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("footer",{className:"social-footer",children:[Object(O.jsx)("div",{className:"social-footer-left",children:Object(O.jsx)("i",{className:"fas fa-book-open"})}),Object(O.jsx)("div",{className:"social-footer-icons",children:Object(O.jsxs)("ul",{className:"menu simple",children:[Object(O.jsx)("i",{className:"fab fa-facebook"}),Object(O.jsx)("i",{className:"fab fa-instagram"}),Object(O.jsx)("i",{className:"fab fa-pinterest"}),Object(O.jsx)("i",{className:"fab fa-twitter-square"})]})})]})})},L=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){n()}),[]);var n=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://commerce-app.herokuapp.com/api/carrusel/listaimg",e.next=3,fetch("https://commerce-app.herokuapp.com/api/carrusel/listaimg");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,n=a.map((function(e){return{id:e.id,img:e.img}})),s(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"simpleSlider",id:"slider",children:Object(O.jsx)("figure",{children:c.map((function(e){return Object(O.jsx)("img",{src:e.img,alt:"img"},e.id)}))})})})},I=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[" ",Object(O.jsx)(L,{})," "]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Cat\xe1logo"}),Object(O.jsx)("hr",{}),Object(O.jsx)(A,{}),Object(O.jsx)(g.b,{className:"btn btn-light",to:"/catalogo",children:"Ver m\xe1s..."}),Object(O.jsx)("hr",{}),Object(O.jsx)("h1",{children:"Encuentranos:"}),Object(O.jsx)("hr",{}),Object(O.jsx)(E,{})]})]})},F=c(35),B=c.n(F),z=c(28),D=function(e){var t=e.history,c=Object(p.g)(),s=B.a.parse(c.search).q,n=void 0===s?"":s,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),c=Object(l.a)(t,2),s=c[0],n=c[1];return[s,function(e){var t=e.target;n(Object(N.a)(Object(N.a)({},s),{},Object(z.a)({},t.name,t.value)))},function(){n(e)}]}({searchText:n}),i=Object(l.a)(r,2),b=i[0],u=i[1],d=b.searchText,m=Object(a.useState)([]),h=Object(l.a)(m,2),x=h[0],f=h[1],v=function(){var e=Object(j.a)(o.a.mark((function e(t){var c,a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://commerce-app.herokuapp.com/api/libros/libros/palabrasClaves/".concat(t),e.next=3,fetch(c);case 3:return a=e.sent,e.next=6,a.json();case 6:if(s=e.sent,void 0!==(n=s.data)){e.next=10;break}return e.abrupt("return",[]);case 10:f(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Buscar"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"d-flex ",onSubmit:function(e){e.preventDefault(),t.push("?q=".concat(d))},children:[Object(O.jsx)("input",{type:"text",placeholder:"Encuentra tu Libro...",className:"form-control",name:"searchText",autoComplete:"off",value:d,onChange:u}),Object(O.jsx)("button",{type:"submit",className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){return v(d)},children:Object(O.jsx)("i",{className:"fas fa-search"})})]})}),Object(O.jsxs)("div",{className:"results",children:[Object(O.jsx)("h4",{children:" Results "}),Object(O.jsx)("hr",{}),""===n&&Object(O.jsx)("div",{className:"alert alert-info",children:"Encuentra tu libro.."}),""!==n&&0===x.length&&Object(O.jsxs)("div",{className:"alert alert-danger",children:["No se encuentran resultados con: ",n]}),x.map((function(e){return Object(O.jsx)(y,Object(N.a)({},e),e.id)}))]})]})]})},q=function(){return Object(O.jsxs)("nav",{id:"navar",className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(O.jsx)(g.b,{className:"navbar-brand",to:"/",children:" Home"}),Object(O.jsx)("div",{className:"navbar-collapse",children:Object(O.jsxs)("div",{className:"navbar-nav",children:[Object(O.jsx)(g.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/catalogo",children:" Cat\xe1logo"}),Object(O.jsx)(g.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/calificaciones",children:"Calificaciones"}),Object(O.jsx)(g.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/search",children:"Buscar"})]})}),Object(O.jsx)("form",{className:"d-flex",children:Object(O.jsx)(g.b,{type:"button",className:"navbar-brand",to:"/login",children:" login"})})]})},P=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.auth})).name;return Object(O.jsx)("div",{children:Object(O.jsxs)("aside",{className:"sidebar",children:[Object(O.jsxs)("div",{className:"sidebar-navbar",children:[Object(O.jsxs)("h3",{className:"mt-5",children:[Object(O.jsx)("i",{className:"far fa-user"}),Object(O.jsxs)("span",{children:[" ",t]})]}),Object(O.jsxs)(g.b,{className:"btn-logout",onClick:function(){e(function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().signOut();case 2:t(f());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},type:"button",to:"/",children:[" ",Object(O.jsx)("i",{className:"fas fa-sign-out-alt fa-2x mt-5"})]})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"container-main",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("i",{className:"fas fa-heart fa-2x mt-5"}),Object(O.jsx)("p",{className:"mt-5",children:"Favoritos"})]}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("i",{className:"fas fa-plus-circle fa-2x mt-5"}),Object(O.jsx)("p",{className:"mt-5",children:"Agregar a la lista"})]}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("i",{className:"fas fa-comments fa-2x mt-5"}),Object(O.jsx)("p",{className:"mt-5",children:"Comentar"})]})]})})]})})},T=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"nothing_main-content",children:[Object(O.jsxs)("p",{children:["Crea tu propia lista de libro favoritos.",Object(O.jsx)("br",{}),"o deja tus comentarios..."]}),Object(O.jsx)("i",{className:"fas fa-book-reader fa-4x mt-5"})]})})},R=function(){return Object(O.jsxs)("div",{className:"user_main-content animate__animated animate__fadeIn animate__faster",children:[Object(O.jsx)(P,{}),Object(O.jsx)("main",{children:Object(O.jsx)(T,{})})]})},W=function(e){var t=e.history,c=Object(a.useState)([]),s=Object(l.a)(c,2),n=s[0],r=s[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://commerce-app.herokuapp.com/api/libros/librosdesc/calificaciones",e.next=3,fetch("https://commerce-app.herokuapp.com/api/libros/librosdesc/calificaciones");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,r(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:Object(O.jsx)("i",{className:"fas fa-chevron-circle-left"})}),Object(O.jsx)("h1",{children:"Libros con mayor puntaje:"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{children:n.map((function(e){return Object(O.jsx)(y,Object(N.a)({},e),e.id)}))})]})},G=function(e){var t=e.history,c=Object(a.useState)([]),s=Object(l.a)(c,2),n=s[0],r=s[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://commerce-app.herokuapp.com/api/libros/librosasc/calificaciones",e.next=3,fetch("https://commerce-app.herokuapp.com/api/libros/librosasc/calificaciones");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a=c.data,r(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn m-1 btn-block btn-outline-ligth",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:Object(O.jsx)("i",{className:"fas fa-chevron-circle-left"})}),Object(O.jsx)("h1",{children:"Libros con menor puntaje:"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{children:n.map((function(e){return Object(O.jsx)(y,Object(N.a)({},e),e.id)}))})]})},J=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(q,{}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(p.d,{children:[Object(O.jsx)(p.b,{exact:!0,path:"/",component:I}),Object(O.jsx)(p.b,{exact:!0,path:"/catalogo",component:C}),Object(O.jsx)(p.b,{exact:!0,path:"/calificaciones",component:S}),Object(O.jsx)(p.b,{exact:!0,path:"/calificacionDesc",component:W}),Object(O.jsx)(p.b,{exact:!0,path:"/calificacionAsc",component:G}),Object(O.jsx)(p.b,{exact:!0,path:"/search",component:D}),Object(O.jsx)(p.b,{path:"/book/:id",component:_}),Object(O.jsx)(p.b,{exact:!0,path:"/user",component:R}),Object(O.jsx)(p.a,{to:"/"})]})})]})},K=c(30),M=function(e){var t=e.isAuthenticated,c=e.component,a=Object(K.a)(e,["isAuthenticated","component"]);return console.log(t),Object(O.jsx)(p.b,Object(N.a)(Object(N.a)({},a),{},{component:function(e){return t?Object(O.jsx)(c,Object(N.a)({},e)):Object(O.jsx)(p.a,{to:"/login"})}}))},U=function(e){var t=e.isAuthenticated,c=e.component,a=Object(K.a)(e,["isAuthenticated","component"]);return Object(O.jsx)(p.b,Object(N.a)(Object(N.a)({},a),{},{component:function(e){return t?Object(O.jsx)(p.a,{to:"/user"}):Object(O.jsx)(c,Object(N.a)({},e))}}))},V=function(){var e=Object(r.b)(),t=Object(a.useState)(!0),c=Object(l.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1];return Object(a.useEffect)((function(){b.a.auth().onAuthStateChanged(function(){var t=Object(j.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===c||void 0===c?void 0:c.uid)?(e(x(c.uid,c.displayName)),m(!0)):m(!1),n(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,n,m]),s?Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)("div",{className:"spinner-border  m-5",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(O.jsx)(g.a,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(p.d,{children:[Object(O.jsx)(U,{isAuthenticated:d,exact:!0,path:"/login",component:v}),Object(O.jsx)(M,{exact:!0,isAuthenticated:d,path:"/user",component:R}),Object(O.jsx)(U,{path:"/",component:J}),Object(O.jsx)(p.a,{to:"/login"})]})})})},X=c(24),H=c(36),Q="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,Y=Object(X.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{uid:t.payload.uid,name:t.payload.displayName};case h:return{};default:return e}}}),Z=Object(X.d)(Y,Q(Object(X.a)(H.a))),$=function(){return Object(O.jsx)(r.a,{store:Z,children:Object(O.jsx)(V,{})})};n.a.render(Object(O.jsx)($,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.751db3bf.chunk.js.map